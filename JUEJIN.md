# ðŸ–ä»Žä¸€ä¸ªè®°äº‹æœ¬å…¥é—¨nodeè„šæ‰‹æž¶å¼€å‘ 

![](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f50ce4835a0c4deaa74eb679f311946b~tplv-k3u1fbpfcp-watermark.image)

> ä»€ä¹ˆæ˜¯è„šæ‰‹æž¶ï¼Œ[ç™¾åº¦ç™¾ç§‘](https://baike.baidu.com/item/%E8%84%9A%E6%89%8B%E6%9E%B6/4361782?fr=aladdin)çš„è§£é‡Šæ˜¯ï¼šè„šæ‰‹æž¶æ˜¯ä¸ºäº†ä¿è¯å„æ–½å·¥è¿‡ç¨‹é¡ºåˆ©è¿›è¡Œè€Œæ­è®¾çš„å·¥ä½œå¹³å°ã€‚åœ¨å‰ç«¯å·¥ä½œä¸­ï¼Œæˆ‘æŠŠå®ƒç†è§£æˆä¸€ä¸ªå·¥å…·é›†åˆï¼Œåœ¨è¿™ä¸ªå·¥å…·é›†åˆçš„å¸®åŠ©ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥ä¸“æ³¨è‡ªå·±çš„ä¸šåŠ¡ä»£ç å¼€å‘ï¼Œè€Œä¸ç”¨å†èŠ±æ—¶é—´åŽ»å¤„ç†ä¸€äº›ç»å¸¸è¦åšçš„é‡å¤å·¥ä½œã€‚

## å‰è¨€

å°çŒªé…æ·‡æ‰‹ä¸Šçº¹ï¼Œæˆ‘ä»¬éƒ½æ˜¯æ‰“å·¥äººðŸ¤£ã€‚

ä½¿ç”¨ä¸‰å¤§é‡‘åˆšåšå‰ç«¯å¼€å‘çš„å°ä¼™ä¼´æƒ³å¿…éƒ½ä½¿ç”¨è¿‡å„å®¶çš„è„šæ‰‹æž¶å·¥å…·å§ï¼Œä¸çŸ¥é“æœ‰æ²¡æœ‰æ‰‹ç—’ç—’çš„æƒ³è¯•ç€å†™ä¸€ä¸‹çš„ï¼Œå•¦å•¦å•¦ï¼Œåæ­£æˆ‘çœ‹ç€ä½œè€…çš„æ–‡ç« æ˜¯æ‰‹ç—’å•¦ã€‚ä¹‹å‰ä¸€ç›´æƒ³ç€å­¦ä¹ `NodeJS`è„šæ‰‹æž¶å¼€å‘ï¼Œå¯æ˜¯æ¯æ¬¡éƒ½è¢«è‡ªå·±çš„æ‡’ç™Œæ‰“è´¥äº†ï¼Œè¿™æ¬¡ç»ˆäºŽæœ‰æ—¶(hua)é—´(shui)ï¼ŒäºŽæ˜¯èŠ±äº†ç‚¹æ—¶é—´å†™äº†ä¸ªå°`DEMO`ï¼Œä¹Ÿå°±æ˜¯æ–‡ç« é‡Œé¢çš„è®°äº‹æœ¬å·¥å…·ï¼Œè¿™ä¸ªå·¥å…·å¹¶æ²¡æœ‰æ¶‰åŠåˆ°`git`ä¸‹è½½ï¼ˆ[å¯ä»¥å‚è€ƒæŽ˜é‡‘å…¶ä»–æ–‡ç« ](https://juejin.cn/post/6914556810129539085)ï¼‰ï¼Œå®ƒæ›´å¤šçš„æ˜¯å±•ç¤ºä¸€ä¸ªè„šæ‰‹æž¶è¯¥å…·å¤‡çš„å·¥ä½œæµç¨‹ä»¥åŠå¸¸ç”¨å·¥å…·çš„ç”¨é€”ã€‚åºŸè¯ä¸å¤šè¯´ï¼Œæˆ‘ä»¬å¼€å§‹å§ï¼

ä»£ç æ³¨é‡Šå†™çš„æ¯”è¾ƒæ¸…æ¥šï¼ŒæœŸæœ›æ¯ä¸€ä½å°ä¼™ä¼´éƒ½èƒ½çœ‹æ‡‚ã€‚å½“ç„¶ï¼Œä½œè€…æœ¬èº«ä¹Ÿåªæ˜¯ä¸€ååˆçº§å‰ç«¯ï¼Œå…¶ä¸­è¦æ˜¯æœ‰å•¥è®²çš„ä¸å¯¹çš„ï¼Œä¹Ÿè¯·å¤§ä½¬ä»¬æŒ‡å‡ºï¼Œæ‹œè°¢ðŸ™ˆï¼Œå½“ç„¶ï¼Œè¦æ˜¯è§‰å¾—å†™å¾—è¿˜è¡Œï¼Œä¸å¦¨ç»™ä¸ªä¸‰è¿žå“Ÿã€‚



## åˆå§‹åŒ–çŽ¯å¢ƒ

### 1ã€éœ€æ±‚

![](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/044ee13405904a5aa7576469a3cdf14d~tplv-k3u1fbpfcp-watermark.image)

### 2ã€é¡¹ç›®ä¾èµ–

> - **NodeJS:** v12.18.3
> 

### 3ã€å·¥å…·åº“

> - **[chalk](https://www.npmjs.com/package/chalk):** ä¿®æ”¹è¾“å…¥è¾“å‡ºçš„æ–‡æœ¬é¢œè‰²ï¼Œæ·»åŠ æˆåŠŸå¤±è´¥å›¾æ ‡
> - **[commander](https://www.npmjs.com/package/commander):** å‘½ä»¤è¡Œè¾…åŠ©å·¥å…·åº“ï¼Œå¯ä»¥æ·»åŠ å‘½ä»¤æç¤ºï¼Œä¹Ÿå¯ä»¥è§£æžå‚æ•°
> - **[inquirer](https://www.npmjs.com/package/inquirer):** å‘½ä»¤è¡Œäº¤äº’ï¼Œè¾“å…¥ï¼Œé€‰é¡¹ç­‰
> - **[minimis](https://www.npmjs.com/package/minimis)":** å‘½ä»¤è¡Œå‚æ•°è§£æžï¼Œå¯ä»¥ç”¨commanderæ›¿ä»£
> - **[ora](https://www.npmjs.com/package/ora):** ç»ˆç«¯æ—‹è½¬å™¨ï¼Œç¾ŽåŒ–è¿›åº¦
> - **prettier:** ä»£ç æ ¼å¼åŒ–
> - **dayjs:** æ—¶é—´æ ¼å¼åŒ–å·¥å…·

### 4ã€é¡¹ç›®ç»“æž„

éœ€è¦å…³æ³¨çš„æ–‡ä»¶

```
notepad-cli
â”œâ”€â”€ bin
â”‚   â””â”€â”€ notepad-cli.js -- å¯æ‰§è¡Œçš„æ–‡ä»¶
â”œâ”€â”€ doc
â”‚   â””â”€â”€ 1610262571511.txt --
â”œâ”€â”€ lib
â”‚   â”œâ”€â”€ commands --å…·ä½“å‘½ä»¤ç›®å½•
â”‚   â”‚   â”œâ”€â”€ add.js
â”‚   â”‚   â”œâ”€â”€ del.js
â”‚   â”‚   â”œâ”€â”€ exit.js
â”‚   â”‚   â”œâ”€â”€ find.js
â”‚   â”‚   â”œâ”€â”€ list.js
â”‚   â”‚   â””â”€â”€ open.js
â”‚   â”œâ”€â”€ config  --é…ç½®æ–‡ä»¶ç›®å½•
â”‚   â”‚   â””â”€â”€ index.js
â”‚   â”œâ”€â”€ service.js --å…¥å£æ–‡ä»¶
â”‚   â””â”€â”€ utils   --å·¥å…·ç±»å°è£…
â”‚       â”œâ”€â”€ file.js
â”‚       â””â”€â”€ utils.js
â”œâ”€â”€ package.json
```

### 5ã€æ¡ˆä¾‹

```bash
git clone https://github.com/taosiqi/notepad-cli.git
cd notepad-cli
yarn 
npm link //é“¾æŽ¥åˆ°å…¨å±€åº“
notepad-cli open 
```

## å…¥é—¨æ¡ˆä¾‹

### 1ã€åˆ›å»ºé¡¹ç›®

```javascript
1ã€mkdir notepad-cli && cd notepad-cli
2ã€ä¾æ®ä¸Šæ–‡ç›®å½•ç»“æž„åˆ›å»ºç›®å½•
3ã€å®‰è£…ä¸Šæ–‡æåˆ°çš„å·¥å…·åº“
```

`npm init` åˆ›å»º `package.json`ï¼Œå¤§æ¦‚ä¼šå¾—åˆ°ä¸€ä¸ªè¿™æ ·çš„æ–‡ä»¶

```javascript
{
  "name": "notepad-cli",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "keywords": [],
  "author": "",
  "license": "ISC"
}
```

æ·»åŠ  `bin` å‘½ä»¤

```javascript
"bin": {
    "notepad-cli": "bin/notepad-cli.js"  //æ‰§è¡Œnpm linkä¹‹åŽ å¯ä»¥ä½¿ç”¨notepad-cliä½¿ç”¨è„šæ‰‹æž¶
 },
```

æ·»åŠ å„é¡¹ä¾èµ–ä¹‹åŽé•¿è¿™æ ·

```javascript
{
  "name": "notepad-cli",
  "version": "1.0.0",
  "description": "nodeç¬”è®°æœ¬",
  "main": "lib/service.js",
  "homepage": "https://github.com/taosiqi/notepad-cli",
  "author": {
    "name": "siqiJson"
  },
  "keywords": [
    "notepad",
    "cli"
  ],
  "bin": {
    "notepad-cli": "bin/notepad-cli.js"
  },
  "license": "MIT",
  "repository": {
    "type": "git",
    "url": "https://github.com/taosiqi/notepad-cli"
  },
  "dependencies": {
    "chalk": "^4.1.0",
    "commander": "^6.2.1",
    "dayjs": "^1.9.8",
    "inquirer": "^7.3.3",
    "minimist": "^1.2.5",
    "ora": "^5.1.0",
    "prettier": "^2.1.1"
  }
}
```

### 2ã€ç®€å•å®žä¾‹

åˆ›å»º`/bin/notepad-cli.js`æ–‡ä»¶

```javascript
#!/usr/bin/env node
// ç¬¬ä¸€è¡Œä¸å¯å°‘ï¼Œå…¶ä½œç”¨æ˜¯å®ƒå‘Šè¯‰ç³»ç»Ÿè¿™ä¸ªè„šæœ¬éœ€è¦ç”¨nodeè§£é‡Šå™¨æ¥æ‰§è¡Œã€‚
console.log('nodejsè„šæ‰‹æž¶')
```

é¡¹ç›®æ ¹ç›®å½•é”®å…¥`npm link` ï¼Œå®ƒå¯ä»¥æŠŠæŒ‡å®šçš„æ‰§è¡Œæ–‡ä»¶é“¾æŽ¥åˆ°å…¨å±€ï¼ˆç›¸å½“äºŽ`npm -g install xxx`ï¼‰ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç›´æŽ¥å…¨å±€å‘½ä»¤è¡Œä½¿ç”¨åˆšåˆšæ­å»ºçš„è„šæ‰‹æž¶å·¥å…·äº†ã€‚

`npm link`æŠ¥é”™å¯ä»¥å…ˆå¸è½½è„šæ‰‹æž¶`npm -g  uninstall notepad-cli`

æ‰§è¡Œ`notepad-cli`å°†ä¼šæ‰§è¡Œ`/bin/notepad-cli.js`æ–‡ä»¶

```
F:\notepad-cli>notepad-cli
nodejsè„šæ‰‹æž¶
```

## æ¡ˆä¾‹åˆ†æž

### 1ã€å…¥å£æ–‡ä»¶notepad-cli

```javascript
#!/usr/bin/env node
// ç¬¬ä¸€è¡Œä¸å¯å°‘ï¼Œå…¶ä½œç”¨æ˜¯å®ƒå‘Šè¯‰ç³»ç»Ÿè¿™ä¸ªè„šæœ¬éœ€è¦ç”¨nodeè§£é‡Šå™¨æ¥æ‰§è¡Œã€‚
// è¿™ä¸ªæ–‡ä»¶ä¸»è¦æ˜¯ç”¨æ¥å¤„ç†æŽ¥å—å‚æ•°çš„å…¥å£æ–‡ä»¶ï¼Œ
const Service = require('../lib/service') //å¼•å…¥æˆ‘ä»¬çš„å…¥å£æ–‡ä»¶
const service = new Service() //å®žä¾‹åŒ–Service

const rawArgv = process.argv.slice(2)
console.log(rawArgv) //[ 'open' ]

const args = require('minimist')(rawArgv) //è§£æžå‘½ä»¤è¡Œå‚æ•°
console.log(args) //{ _: [ 'open' ] }

const command = args._[0]
// æ‰§è¡Œåˆå§‹åŒ–
service.run(command, args, rawArgv)
```

### 2ã€å‘½ä»¤å…¥å£service

æ‰§è¡Œ`service.run(command, args, rawArgv)`å°†ä¼šæ‰§è¡Œ`/lib/service.js`æ–‡ä»¶

```javascript
const program = require('commander') //æ·»åŠ ç‰ˆæœ¬å‘½ä»¤æç¤º

const { packageInfo, open } = require('./config')  //é…ç½®æ–‡ä»¶
const {readDoc}=require('./utils/file') //æ–‡ä»¶æ“ä½œ


module.exports = class Service {
    constructor() {
        readDoc() //è¯»å–docä¸‹é¢çš„æ–‡ä»¶å­˜åˆ°ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œæ–¹ä¾¿æ“ä½œ
        setupDefaultCommands() //è®¾ç½®é»˜è®¤å‘½ä»¤
        registerCommands() //æ³¨å†Œè‡ªå®šä¹‰å‘½ä»¤
    }
    run(_id, _args = {}, rawArgv = []) {
        program.parse(rawArgv, { from: 'user' })  //æ‰§è¡Œç›¸åº”çš„å‘½ä»¤
    }
}

// è®¾ç½®é»˜è®¤å‘½ä»¤
const setupDefaultCommands = () => {
    program.version(packageInfo.version, '-v, --version', 'è¾“å‡ºå½“å‰ç‰ˆæœ¬å·')
    program.helpOption('-h, --help', 'èŽ·å–å¸®åŠ©')
    program.addHelpCommand(false)
}
// æ³¨å†Œå‘½ä»¤
const registerCommands = () => {
    return program.command('open').description('æ‰“å¼€è®°äº‹æœ¬').alias('o').action(() => {
        open.apply(program.args)
    })
}

```

### 3ã€æ‰“å¼€è®°äº‹æœ¬å‘½ä»¤ open

`/lib/service.js`æ–‡ä»¶æ³¨å†Œçš„è‡ªå®šä¹‰å‘½ä»¤ `open` ï¼Œä½¿ç”¨ `notepad-cli open`æ‰§è¡Œã€‚

```javascript
const inquirer = require('inquirer') ////å‘½ä»¤è¡Œäº¤äº’
const { readKey } = require('../utils/file')//æ–‡ä»¶æ“ä½œ
async function init(commands) {
    const promptList = {
        type: 'list',
        message: 'æ¬¢è¿Žä½¿ç”¨æ€æ·‡è®°äº‹æœ¬ï¼Œè¯·é€‰æ‹©éœ€è¦æ“ä½œçš„åŠŸèƒ½:',
        name: 'tools',
        choices: () => {
            let promptList = []
            // è¯»å–commandsä¸‹æ‰€æœ‰å‘½ä»¤ï¼Œpushè¿›é€‰é¡¹ï¼Œä¾›ç”¨æˆ·é€‰æ‹©
            for (const commandsKey in commands) {
                promptList.push({
                    name: commands[commandsKey].description,
                    value: commandsKey
                })
            }
            return promptList
        }
    }
    return promptList
}

module.exports = {
    description: 'æ‰“å¼€è®°äº‹æœ¬',
    apply: async () => {
        let commands = await readKey()
        let promptList = await init(commands)
        await inquirer.prompt(promptList).then(async (answers) => {
            await commands[answers.tools].apply() //æ‰§è¡Œé€‰ä¸­çš„å‘½ä»¤
            const command = require(`${__dirname}/open.js`)
            await command.apply() //æ‰§è¡Œå®Œä¸Šè¿°åŠŸèƒ½åŽå›žåˆ°å½“å‰åŠŸèƒ½é¡µ
        })
    }
}
```

### 4ã€å¢žåŠ è®°äº‹æœ¬ add

```javascript
const inquirer = require('inquirer') //å‘½ä»¤è¡Œäº¤äº’
const { succeed } = require('../utils/utils') //å°è£…çš„æç¤ºç±»åž‹log
const { add } = require('../utils/file') //æ–‡ä»¶æ“ä½œ
const dayjs = require('dayjs')
const promptList = [
    {
        type: 'input',
        message: 'è¯·è¾“å…¥æ ‡é¢˜:',
        name: 'title',
        validate: (val) => {
            return val !== ''
        }
    },
    {
        type: 'input',
        message: 'è¯·è¾“å…¥å†…å®¹:',
        name: 'content',
        validate: (val) => {
            return val !== ''
        }
    }
]

module.exports = {
    description: 'æ·»åŠ è®°äº‹',
    apply: async () => {
        await inquirer.prompt(promptList).then(async (answers) => {
            // æž„é€ æ–‡ä»¶ç»“æž„
            const timestamp = new Date().getTime()
            const data = {
                ...answers,
                time: dayjs().format('YYYY-MM-DD HH:mm:ss'),
                timestamp: timestamp
            }
            // åˆ›å»ºè®°äº‹æœ¬æ–‡ä»¶
            add(data, timestamp)
        })
        succeed('æ·»åŠ æˆåŠŸ')
        return Promise.resolve()
    }
}
```

### 5ã€åˆ é™¤è®°äº‹æœ¬ del

```javascript
const { del } = require('../utils/file')
const { succeed, info } = require('../utils/utils')
const inquirer = require('inquirer')
function init() {
    const promptList = {
        type: 'input',
        message: 'è¯·è¾“å…¥éœ€è¦åˆ é™¤çš„è®°äº‹åºåˆ—å·:',
        name: 'del',
        validate: (val) => {
            //è¿™é‡Œå¯ä»¥åšè§„åˆ™åˆ¤æ–­
            let value = parseInt(val)
            return (
                typeof value === 'number' &&
                !isNaN(value) &&
                value > 0 &&
                value < articleList.length + 1
            )
        }
    }
    return promptList
}
//èŽ·å–è®°äº‹åˆ—è¡¨
function initLog() {
    let log = ''
    articleList.forEach((item, index) => {
        log += `${index + 1}:${item.title} \n`
    })
    return log
}
module.exports = {
    description: 'åˆ é™¤è®°äº‹',
    apply: async () => {
        let promptList = await init()
        let log = await initLog() //æ˜¾ç¤ºæ‰€æœ‰æ–‡ç« åˆ—è¡¨
        info(log)
        await inquirer.prompt(promptList).then(async (answers) => {
            await del(answers['del'])
            succeed('åˆ é™¤æˆåŠŸ')
            return Promise.resolve()
        })
    }
}
```

### 6ã€é€€å‡ºè®°äº‹æœ¬ exit

```javascript
const { succeed } = require('../utils/utils')
module.exports = {
    description: 'é€€å‡ºè®°äº‹',
    apply: async (env) => {
        succeed('é€€å‡ºæˆåŠŸ')
        process.exit(1)
    }
}
```

### 7ã€æŸ¥æ‰¾è®°äº‹æœ¬ find

```javascript
const inquirer = require('inquirer')
const { info, underline } = require('../utils/utils')
// è¾“å…¥æŸ¥æ‰¾çš„å…³é”®è¯
function init() {
    const promptList = {
        type: 'input',
        message: 'è¯·è¾“å…¥è®°äº‹æ–‡ç« å…³é”®è¯:',
        name: 'find',
        validate: (val) => {
            return val != ''
        }
    }
    return promptList
}
// æ ¹æ®å…³é”®è¯ç­›é€‰
function filtrate(keyWord) {
    const filtrateData = {
        type: 'list',
        message: 'è®°äº‹åˆ—è¡¨:',
        name: 'tools',
        choices: () => {
            let promptList = []
            const data = articleList.filter((item, index) => {
                return (
                    item.title.indexOf(keyWord) != -1 ||
                    item.content.indexOf(keyWord) != -1
                )
            })
            data.forEach((item, index) => {
                promptList.push({
                    name: item.title + '  ' + item.time,
                    value: index
                })
            })
            return promptList
        }
    }
    return filtrateData
}
module.exports = {
    description: 'æŸ¥æ‰¾è®°äº‹',
    apply: async () => {
        let promptList = await init()
        let keyWord = ''
        await inquirer.prompt(promptList).then((answers) => {
            keyWord = answers.find
        })
        let filtrateData = await filtrate(keyWord)
        if (filtrateData.choices().length !== 0) {
            await inquirer.prompt(filtrateData).then((answers) => {
                console.log(underline(articleList[answers.tools].content))
            })
        } else {
            info('æœªæœç´¢åˆ°å†…å®¹')
        }
    }
}
```

### 8ã€è®°äº‹æœ¬åˆ—è¡¨ list

```javascript
const inquirer = require('inquirer')
const { info, underline } = require('../utils/utils')
function init() {
    const promptList = {
        type: 'list',
        message: 'è®°äº‹åˆ—è¡¨:',
        name: 'tools',
        choices: () => {
            let promptList = []
            articleList.forEach((item, index) => {
                promptList.push({
                    name: item.title + '  ' + item.time,
                    value: index
                })
            })
            return promptList
        }
    }
    return promptList
}
module.exports = {
    description: 'è®°äº‹åˆ—è¡¨',
    apply: async () => {
        let promptList = await init()
        if (promptList.choices().length !== 0) {
            await inquirer.prompt(promptList).then((answers) => {
                console.log(underline(articleList[answers.tools].content))
            })
        } else {
            info('æœªæœç´¢åˆ°å†…å®¹')
        }
    }
}
```

### 9ã€é…ç½®æ–‡ä»¶ config/index

```javascript
module.exports = {
    packageInfo: require('../../package.json'), //èŽ·å–packageæ–‡ä»¶ï¼Œç”¨äºŽæ˜¾ç¤ºç‰ˆæœ¬å·
    open: require('../commands/open')//èŽ·å–openæ–‡ä»¶
}
```

### 10ã€æ–‡ä»¶æ“ä½œ file

```javascript
//è®°äº‹æœ¬å¯¹æ–‡ä»¶çš„æ“ä½œæ”¾åœ¨è¿™å—,è¿™é‡Œåˆ›å»ºäº†ä¸€ä¸ªå…¨å±€å˜é‡articleListï¼Œç¬¬ä¸€æ¬¡è¿è¡Œå­˜å‚¨è®°äº‹æœ¬å†…å®¹
const fs = require('fs')
const path = require('path')
const docPath = path.join(__dirname, `../../doc`)
const commandPath = path.join(__dirname, `../commands`)
module.exports = {
    // å¢žåŠ æ–‡ä»¶
    add: (data, timestamp) => {
        fs.writeFile(
            `${docPath}/${timestamp}.txt`,
            JSON.stringify(data),
            (error) => {
                if (error) {
                    console.error('å†™å…¥å¤±è´¥äº†')
                } else {
                    articleList.push(data)
                }
            }
        )
    },
    // åˆ é™¤æ–‡ä»¶
    del: (name) => {
        fs.unlinkSync(`${docPath}/${articleList[name - 1].timestamp}.txt`)
        articleList.splice(name - 1, 1)
    },
    //è¯»å–commandsç›®å½•ä¸‹å‘½ä»¤
    readKey: () => {
        let commands = {}
        fs.readdirSync(commandPath).forEach((paths) => {
            const command = require(`${commandPath}/${paths}`)
            if (Object.keys(command).length !== 0) {
                let commandName = paths.slice(0, -3)
                commands[commandName] = command
            }
        })
        return commands
    },
    // è¯»å–docç›®å½•ä¸‹æ–‡ä»¶å†…å®¹
    readDoc: () => {
        global.articleList = []
        fs.readdirSync(docPath).forEach((fileName) => {
            fs.readFile(
                `${docPath}/${fileName}`,
                'utf-8',
                function (err, data) {
                    if (err) {
                        console.error(err)
                    } else {
                        articleList.push(JSON.parse(data))
                    }
                }
            )
        })
        articleList.reverse()
    }
}
```

### 11ã€æ–‡æœ¬æç¤ºutil

```javascript
const ora = require('ora')
const chalk = require('chalk')

module.exports = {
  // æ—¥å¿—ä¿¡æ¯
  log: (message) => {
    console.log(message)
  },
  // æˆåŠŸä¿¡æ¯
  succeed: (...message) => {
    ora().succeed(chalk.greenBright.bold(message))
  },
  // æç¤ºä¿¡æ¯
  info: (...message) => {
    ora().info(chalk.blueBright.bold(message))
  },
  // é”™è¯¯ä¿¡æ¯
  error: (...message) => {
    ora().fail(chalk.redBright.bold(message))
  },
  // ä¸‹åˆ’çº¿é‡ç‚¹ä¿¡æ¯
  underline: (message) => {
    return chalk.underline.blueBright.bold(message)
  }
}
```

## æ€»ç»“

çœ‹å®Œçš„å°ä¼™ä¼´åº”è¯¥å¯¹nodeè„šæ‰‹æž¶çš„å¼€å‘æœ‰ä¸€ç‚¹çš„äº†è§£å•¦ï¼Œ`DEMO`æ²¡æœ‰ç”¨åˆ°éš¾çš„ä¸œè¥¿ï¼ˆè¿˜æ˜¯åšä¸»å¤ªèœ å™—ï¼‰ï¼Œä¸»è¦æ˜¯æƒ³è®©å¤§å®¶å¯¹è„šæ‰‹æž¶å¼€å‘æœ‰ä¸ªåŸºæœ¬çš„äº†è§£ã€‚å¦‚æžœè¿˜æœ‰ä¸ç†è§£çš„å°ä¼™ä¼´ï¼Œå¯ä»¥æŠŠ`github`çš„æ¡ˆä¾‹ä¸‹è½½ä¸‹æ¥è·‘ä¸€è·‘ï¼Œæœ€å¥½å¯ä»¥ä»¿ç€æŠŠä»–é‡å†™ä¸€éï¼Œå¥½è®°æ€§ä¸å¦‚çƒ‚ç¬”å¤´ï¼Œç›¸ä¿¡ä½ ä¼šæœ‰æ›´æ·±çš„ç†è§£ã€‚

**çœ‹å®Œçš„æœ‹å‹å¯ä»¥åŠ¨åŠ¨æ‰‹ç‚¹ä¸ªèµžå†èµ°å“¦ï¼Œä½ ä»¬çš„æ”¯æŒæ˜¯å¯¹æˆ‘æœ€å¤§çš„é¼“åŠ±ï¼ï¼ï¼**

## å¼•ç”¨

> 1. [deploy-cli-service](https://github.com/fuchengwei/deploy-cli-service)
> 2. [NodeJSä¸­æ–‡ç½‘](http://api.nodejs.cn/)
